# KubeDB Installation Commands

helm install kubedb oci://ghcr.io/appscode-charts/kubedb \
    --version v2024.6.4 \
    --namespace kubedb --create-namespace \
    --set-file global.license=$HOME/Downloads/kubedb-license-74d1f70e-5bec-4239-9816-12b78551df36.txt \
    --set global.featureGates.MSSQLServer=true \
    --wait --burst-limit=10000 --debug


helm install kubedb oci://ghcr.io/appscode-charts/kubedb \
          --version v2024.6.4 \
          --namespace kubedb --create-namespace \
          --set-file global.license=$HOME/Downloads/kubedb-license-e4a2bd85-5f84-4634-8995-a3e595ba71b7.txt \
          --set global.featureGates.MSSQLServer=true \
          --set global.featureGates.MySQL=true \
          --set global.featureGates.Postgres=true \
          --set global.featureGates.Redis=true \
          --set global.featureGates.Memcached=true \
          --wait --burst-limit=10000 --debug -f https://raw.githubusercontent.com/kubedb/installer/master/charts/kubedb/ci/ci-values.yaml

edit here: 
helm upgrade kubedb oci://ghcr.io/appscode-charts/kubedb \
          --version v2024.7.3-rc.0 \
          --namespace kubedb --create-namespace \
          --set-file global.license=$HOME/Downloads/kubedb-license-e4a2bd85-5f84-4634-8995-a3e595ba71b7.txt \
          --set global.featureGates.MSSQLServer=true \
          --set global.featureGates.MySQL=true \
          --set global.featureGates.Postgres=true \
          --set global.featureGates.Redis=true \
          --set global.featureGates.Memcached=true \
          --wait --burst-limit=10000 --debug -f https://raw.githubusercontent.com/kubedb/installer/master/charts/kubedb/ci/ci-values.yaml

helm uninstall kubedb --namespace kubedb
kubectl get crd -o name | grep kubedb.com | xargs kubectl delete

restrict ns kubedb

kubectl get ns kubedb -oyaml
apiVersion: v1
kind: Namespace
metadata:
  creationTimestamp: "2024-07-02T08:37:55Z"
  labels:
    kubernetes.io/metadata.name: kubedb
    pod-security.kubernetes.io/enforce: restricted
  name: kubedb
  resourceVersion: "162779"
  uid: ea1f3ffd-ece6-4ce8-b5dd-6aa4b082810f
spec:
  finalizers:
  - kubernetes
status:
  phase: Active



# Cert-Manager
kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.15.0/cert-manager.yaml


# CSI-Driver-CACerts

helm repo add appscode https://charts.appscode.com/stable/
helm repo update
helm upgrade -i \
  cert-manager-csi-driver-cacerts appscode/cert-manager-csi-driver-cacerts \
  -n cert-manager --wait




# kube-prometheus-stack
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm repo update
helm install prometheus prometheus-community/kube-prometheus-stack -n monitoring --create-namespace --wait --burst-limit=100



